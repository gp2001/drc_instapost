* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Arial', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
.container { max-width: 1300px; margin: 0 auto; background: white; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); overflow: hidden; }
.header { background: linear-gradient(45deg, #2c3e50, #34495e); color: white; padding: 30px; text-align: center; }
.header h1 { font-size: 2.5rem; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
.header p { font-size: 1.1rem; opacity: 0.9; }
.main-content { display: grid; grid-template-columns: 400px 1fr; gap: 30px; padding: 30px; align-items: flex-start; }
.controls { background: #f8f9fa; padding: 25px; border-radius: 15px; border: 2px solid #e9ecef; position: sticky; top: 15px; }
.controls h2 { color: #2c3e50; margin-bottom: 20px; font-size: 1.5rem; }
.form-group { margin-bottom: 20px; }
.form-group label { display: block; margin-bottom: 8px; font-weight: bold; color: #495057; }
.form-group select, .form-group input { width: 100%; padding: 12px; border: 2px solid #dee2e6; border-radius: 8px; font-size: 16px; transition: border-color 0.3s ease; }
.form-group select:focus, .form-group input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102,126,234,0.1); }
.upload-area { border: 3px dashed #dee2e6; border-radius: 10px; padding: 30px; text-align: center; cursor: pointer; transition: all 0.3s ease; margin-bottom: 20px; }
.upload-area:hover { border-color: #667eea; background: #f8f9ff; }
.upload-area.dragover { border-color: #667eea; background: #f0f4ff; }
.upload-icon { font-size: 3rem; color: #6c757d; margin-bottom: 15px; }
.btn { background: linear-gradient(45deg, #667eea, #764ba2); color: white; padding: 15px 30px; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s; width: 100%; }
.btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(102,126,234,0.3); }
.preview-area { position: relative; background: #f8f9fa; border-radius: 15px; padding: 25px; text-align: center; }
.preview-area.not-ready .preview-grid, .preview-area.not-ready .download-btn { display:none; }
.preview-placeholder { padding:60px 20px; border:2px dashed #dee2e6; border-radius:12px; background:#ffffff; color:#555; font-size:0.95rem; }
.canvas-wrapper { display:flex; flex-direction:column; align-items:center; gap:15px; }
.canvas-container { position: relative; display: inline-block; background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow: hidden; width: 100%; max-width: 560px; aspect-ratio: 1/1; }
#previewCanvas { display:block; width:100%; height:100%; object-fit:contain; }
.download-btn { margin-top: 10px; background: linear-gradient(45deg, #28a745, #20c997); width:100%; }
.download-btn:hover { box-shadow: 0 10px 20px rgba(40,167,69,0.3); }
.status { font-size: 0.85rem; color:#555; min-height:1.2em; }
.preset-gallery { display:grid; grid-template-columns:repeat(auto-fill,minmax(90px,1fr)); gap:10px; margin-bottom:5px; }
.preset-item { position:relative; border:2px solid #dee2e6; border-radius:8px; overflow:hidden; cursor:pointer; aspect-ratio:1/1; background:#fff; }
.preset-item img { width:100%; height:100%; object-fit:cover; display:block; }
.preset-item:hover { border-color:#667eea; }
.preset-item.selected { border-color:#667eea; box-shadow:0 0 0 3px rgba(102,126,234,0.35); }
.preset-hint { font-size:11px; color:#6c757d; margin-bottom:8px; }
.preview-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:20px; margin-top:15px; }
.canvas-item { position:relative; border:2px solid #dee2e6; border-radius:14px; padding:10px; background:#fff; cursor:pointer; outline:none; transition:border-color .25s, box-shadow .25s, transform .2s; }
.canvas-item:hover { transform:translateY(-3px); }
.canvas-item.selected { border-color:#667eea; box-shadow:0 0 0 3px rgba(102,126,234,0.35); }
.canvas-item:focus-visible { border-color:#764ba2; box-shadow:0 0 0 3px rgba(118,75,162,0.35); }
.canvas-item .canvas-container { aspect-ratio:1/1; width:100%; position:relative; overflow:hidden; border-radius:10px; background:#f1f3f5; }
.canvas-item canvas { width:100%; height:100%; display:block; }
.canvas-label { text-align:center; font-size:14px; font-weight:600; margin-top:8px; color:#2c3e50; }
@media (max-width: 1100px) { .main-content { grid-template-columns: 350px 1fr; gap:20px; padding:25px; } }
@media (max-width: 900px) { .main-content { grid-template-columns: 1fr; } .controls { order:2; position:static; } .preview-area { order:1; } .preview-grid { grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:12px; } }
@media (max-width: 600px) { /* mobile tweaks */
  .header h1 { font-size:2rem; }
  .canvas-container { max-width:100%; }
  .main-content { padding:20px; }
  .preview-grid { display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; }
  .canvas-item { padding:6px; }
  .canvas-item .canvas-container { aspect-ratio:1/1; }
  .canvas-label { font-size:12px; }
}
